import{_ as b,c as n,o as l,a as o,g as d,d as c,h as u,e as f,v as y,i as h,w as v,T as m}from"./app-CrEJ5uQ_.js";const w=["ha-api","api-call-service","api-current-state","ha-device","ha-entity","server-events","server-state-changed","ha-fire-event","ha-get-entities","api-get-history","poll-state","api-render-template","ha-select","ha-sentence","trigger-state","ha-tag","ha-time","ha-wait-until","ha-webhook","ha-zone","server","ha-device-config","ha-entity-config","ha-binary-sensor","ha-button","ha-number","ha-sensor","ha-switch","ha-text","ha-time-entity","ha-update-config"],x={data:function(){return{after:"",before:"",replaceServerId:"",serverId:"",showCopied:!1,showError:!1}},methods:{scrub:function(t){let e;try{e=JSON.parse(this.before)}catch{this.showError=!0,setTimeout(()=>{this.showError=!1},1500);return}this.showError=!1;let a=e.length;for(;a--;){const s=e[a].type;if(s==="server"){e.splice(a,1);continue}w.includes(s)&&(e[a].server=this.replaceServerId?this.serverId:""),["lat","lon","latitude","longitude"].forEach(p=>{e[a][p]&&(e[a][p]="")})}this.after=JSON.stringify(e)},copy:function(){this.$refs.copyme.select(),document.execCommand("copy"),this.showCopied=!0,setTimeout(()=>{this.showCopied=!1},1500)}},mounted(){localStorage.serverId&&(this.serverId=localStorage.serverId)},watch:{serverId(t){localStorage.serverId=t}}},g={key:0},I={key:0,class:"popup error"},S={key:0,class:"popup copied"};function C(t,e,a,s,p,i){return l(),n("div",null,[o("p",null,[o("label",null,[d(o("input",{type:"checkbox","onUpdate:modelValue":e[0]||(e[0]=r=>t.replaceServerId=r)},null,512),[[y,t.replaceServerId]]),e[6]||(e[6]=f(" Replace Home Assistant server id ",-1))]),t.replaceServerId?(l(),n("span",g,[e[7]||(e[7]=f(" with ",-1)),d(o("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=r=>t.serverId=r),placeholder:"xxxxxxxx.xxxxx"},null,512),[[h,t.serverId]])])):u("",!0)]),d(o("textarea",{"onUpdate:modelValue":e[2]||(e[2]=r=>t.before=r),placeholder:"paste exported Node-RED flow here"},null,512),[[h,t.before]]),o("button",{onClick:e[3]||(e[3]=(...r)=>i.scrub&&i.scrub(...r))},"Scrub"),c(m,{name:"fade"},{default:v(()=>[t.showError?(l(),n("span",I,"Invalid JSON")):u("",!0)]),_:1}),d(o("textarea",{"onUpdate:modelValue":e[4]||(e[4]=r=>t.after=r),ref:"copyme"},null,512),[[h,t.after]]),o("button",{onClick:e[5]||(e[5]=(...r)=>i.copy&&i.copy(...r))},"Copy to Clipboard"),c(m,{name:"fade"},{default:v(()=>[t.showCopied?(l(),n("span",S,"Copied")):u("",!0)]),_:1})])}const N=b(x,[["render",C],["__scopeId","data-v-26acb438"],["__file","Scrubber.vue"]]);export{N as default};
