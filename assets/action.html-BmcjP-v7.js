import{_ as r,c as u,a,b as p,d as s,e as t,w as o,r as l,o as c}from"./app-DL7QLekj.js";const h={},m={class:"hint-container tip"},f={id:"action-1",tabindex:"-1"},g={class:"header-anchor",href:"#action-1"};function b(y,e){const n=l("RouteLink"),i=l("Badge"),d=l("info-panel-only");return c(),u("div",null,[e[31]||(e[31]=a("h1",{id:"action",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#action"},[a("span",null,"Action")])],-1)),e[32]||(e[32]=a("p",null,[t("This node allows you to send a request to Home Assistant to perform specific actions. These actions could include tasks such as turning on a light ("),a("code",null,"light.turn_on"),t("), selecting an option from a dropdown menu ("),a("code",null,"input_select.select_option"),t("), or any other service call supported by Home Assistant. It serves as a bridge between Node-RED and Home Assistant, enabling automation flows to directly control devices or entities in your smart home setup.")],-1)),a("div",m,[e[1]||(e[1]=a("p",{class:"hint-container-title"},"Helpful Examples",-1)),a("p",null,[s(n,{to:"/guide/action.html"},{default:o(()=>[...e[0]||(e[0]=[t("Action Tips and Tricks",-1)])]),_:1})])]),e[33]||(e[33]=a("h2",{id:"configuration",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#configuration"},[a("span",null,"Configuration")])],-1)),a("h3",f,[a("a",g,[a("span",null,[e[2]||(e[2]=t("Action ",-1)),s(i,{text:"required"})])])]),a("ul",null,[e[5]||(e[5]=a("li",null,[t("Type: "),a("code",null,"string")],-1)),a("li",null,[e[4]||(e[4]=t("Accepts ",-1)),s(n,{to:"/guide/mustache-templates.html"},{default:o(()=>[...e[3]||(e[3]=[t("Mustache Templates",-1)])]),_:1})])]),e[34]||(e[34]=a("p",null,"Action to perform",-1)),e[35]||(e[35]=a("h3",{id:"floor",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#floor"},[a("span",null,"Floor")])],-1)),a("ul",null,[e[9]||(e[9]=a("li",null,[t("Type: "),a("code",null,"an array of floor ids")],-1)),a("li",null,[e[7]||(e[7]=t("Accepts ",-1)),s(n,{to:"/guide/mustache-templates.html"},{default:o(()=>[...e[6]||(e[6]=[t("Mustache Templates",-1)])]),_:1}),e[8]||(e[8]=t(" for ids",-1))])]),e[36]||(e[36]=a("p",null,"A list of floor ids that will be used as targets for the action",-1)),e[37]||(e[37]=a("h3",{id:"area",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#area"},[a("span",null,"Area")])],-1)),a("ul",null,[e[13]||(e[13]=a("li",null,[t("Type: "),a("code",null,"an array of area ids")],-1)),a("li",null,[e[11]||(e[11]=t("Accepts ",-1)),s(n,{to:"/guide/mustache-templates.html"},{default:o(()=>[...e[10]||(e[10]=[t("Mustache Templates",-1)])]),_:1}),e[12]||(e[12]=t(" for ids",-1))])]),e[38]||(e[38]=a("p",null,"A list of area ids that will be used as targets for the action",-1)),e[39]||(e[39]=a("p",null,[t("Custom ids can be inserted into the list by adding a "),a("code",null,"#"),t(" at the end of the id")],-1)),e[40]||(e[40]=a("h3",{id:"device",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#device"},[a("span",null,"Device")])],-1)),a("ul",null,[e[17]||(e[17]=a("li",null,[t("Type: "),a("code",null,"an array of device ids")],-1)),a("li",null,[e[15]||(e[15]=t("Accepts ",-1)),s(n,{to:"/guide/mustache-templates.html"},{default:o(()=>[...e[14]||(e[14]=[t("Mustache Templates",-1)])]),_:1}),e[16]||(e[16]=t(" for ids",-1))])]),e[41]||(e[41]=a("p",null,"A list of device ids that will be used as targets for the action",-1)),e[42]||(e[42]=a("p",null,[t("Custom ids can be inserted into the list by adding a "),a("code",null,"#"),t(" at the end of the id")],-1)),e[43]||(e[43]=a("h3",{id:"entity",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#entity"},[a("span",null,"Entity")])],-1)),a("ul",null,[e[21]||(e[21]=a("li",null,[t("Type: "),a("code",null,"an array of entity ids")],-1)),a("li",null,[e[19]||(e[19]=t("Accepts ",-1)),s(n,{to:"/guide/mustache-templates.html"},{default:o(()=>[...e[18]||(e[18]=[t("Mustache Templates",-1)])]),_:1}),e[20]||(e[20]=t(" for ids",-1))])]),e[44]||(e[44]=a("p",null,"A list of entity ids that will be used as targets for the action",-1)),e[45]||(e[45]=a("h3",{id:"label",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#label"},[a("span",null,"Label")])],-1)),a("ul",null,[e[25]||(e[25]=a("li",null,[t("Type: "),a("code",null,"an array of label ids")],-1)),a("li",null,[e[23]||(e[23]=t("Accepts ",-1)),s(n,{to:"/guide/mustache-templates.html"},{default:o(()=>[...e[22]||(e[22]=[t("Mustache Templates",-1)])]),_:1}),e[24]||(e[24]=t(" for ids",-1))])]),e[46]||(e[46]=a("p",null,"A list of label ids that will be used as targets for the action",-1)),e[47]||(e[47]=a("h3",{id:"data",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#data"},[a("span",null,"Data")])],-1)),a("ul",null,[e[29]||(e[29]=a("li",null,[t("Type: "),a("code",null,"JSONata | JSON")],-1)),a("li",null,[e[27]||(e[27]=t("Accepts ",-1)),s(n,{to:"/guide/mustache-templates.html"},{default:o(()=>[...e[26]||(e[26]=[t("Mustache Templates",-1)])]),_:1}),e[28]||(e[28]=t(" when data type is JSON",-1))])]),e[48]||(e[48]=p(`<p>JSON object to pass along.</p><h3 id="merge-context" tabindex="-1"><a class="header-anchor" href="#merge-context"><span>Merge Context</span></a></h3><ul><li>Type: <code>string</code></li></ul><p>If defined will attempt to merge the global and flow context variable into the config</p><h3 id="alternative-template-tags" tabindex="-1"><a class="header-anchor" href="#alternative-template-tags"><span>Alternative Template Tags</span></a></h3><ul><li>Type: <code>boolean</code></li></ul><p>Will change the tags used for the mustache template to <code>&lt;%</code> and <code>%&gt;</code></p><h3 id="queue" tabindex="-1"><a class="header-anchor" href="#queue"><span>Queue</span></a></h3><ul><li>Type: <code>none | first | all | last</code></li></ul><p>Will store the first, last, or all messages received while disconnected from Home Assistant and send them once connected again</p><h3 id="block-input-overrides" tabindex="-1"><a class="header-anchor" href="#block-input-overrides"><span>Block Input Overrides</span></a></h3><ul><li>Type: <code>boolean</code></li><li>Default: <code>true</code></li></ul><p>Stop <code>msg.payload</code> values from overriding local config</p><h2 id="input" tabindex="-1"><a class="header-anchor" href="#input"><span>Input</span></a></h2><p>All properties need to be under <code>msg.payload</code>.</p><p>Sample input</p><div class="language-JSON" data-highlighter="prismjs" data-ext="JSON"><pre><code class="language-JSON"><span class="line">{</span>
<span class="line">    &quot;action&quot;: &quot;homeassistant.turn_on&quot;,</span>
<span class="line">    &quot;target&quot;: {</span>
<span class="line">        &quot;floor_id&quot;: [&quot;first_floor&quot;],</span>
<span class="line">        &quot;area_id&quot;: [&quot;kitchen&quot;],</span>
<span class="line">        &quot;device_id&quot;: [&quot;8932894082930482903&quot;],</span>
<span class="line">        &quot;entity_id&quot;: [&quot;light.kitchen&quot;, &quot;switch.garage_light&quot;],</span>
<span class="line">        &quot;label_id&quot;: [&quot;outdoor_lights&quot;]</span>
<span class="line">    }</span>
<span class="line">    &quot;data&quot;: {</span>
<span class="line">        &quot;brightness_pct&quot;: 50</span>
<span class="line">    }</span>
<span class="line">}</span>
<span class="line"></span></code></pre></div><h4 id="merging" tabindex="-1"><a class="header-anchor" href="#merging"><span>Merging</span></a></h4><p>If the incoming message has a <code>payload</code> property with <code>action</code> set it will override any config values if set.</p><p>If the incoming message has a <code>payload.data</code> that is an object these properties will be <strong>merged</strong> with any config values set.</p><p>If the node has a property value in its config for <code>Merge Context</code> then the <code>flow</code> and <code>global</code> contexts will be checked for this property which should be an object that will also be merged into the data payload.</p><h4 id="merge-resolution" tabindex="-1"><a class="header-anchor" href="#merge-resolution"><span>Merge Resolution</span></a></h4><p>As seen above the <code>data</code> property has a lot going on in the way of data merging, in the end, all of these are optional and the rightmost will win if a property exists in multiple objects</p><p>Config Data, Global Data, Flow Data, Payload Data ( payload data property always wins if provided )</p><h3 id="action-2" tabindex="-1"><a class="header-anchor" href="#action-2"><span>action</span></a></h3><ul><li>Type: <code>string</code></li></ul><p>Action to call</p><h3 id="data-1" tabindex="-1"><a class="header-anchor" href="#data-1"><span>data</span></a></h3><ul><li>Type: <code>JSON Object</code></li></ul><p>Data to send with the action</p><h3 id="target" tabindex="-1"><a class="header-anchor" href="#target"><span>target</span></a></h3><ul><li>Type: <code>JSON Object with floor_id, area_id, device_id, entity_id, and label_id as array properties</code></li></ul><p>Targets of the action</p><h2 id="output" tabindex="-1"><a class="header-anchor" href="#output"><span>Output</span></a></h2><p>Value types:</p><ul><li><code>config</code>: config properties of the node</li><li><code>results</code>: response from Home Assistant</li><li><code>sent data</code>: data sent to Home Assistant</li></ul><h2 id="references" tabindex="-1"><a class="header-anchor" href="#references"><span>References</span></a></h2>`,37)),s(d,null,{default:o(()=>[a("p",null,[s(n,{to:"/node/action.html"},{default:o(()=>[...e[30]||(e[30]=[t("External Docs",-1)])]),_:1})])]),_:1})])}const v=r(h,[["render",b]]),x=JSON.parse('{"path":"/node/action.html","title":"Action","lang":"en-US","frontmatter":{},"git":{"updatedTime":1735610028000,"contributors":[{"name":"zachowj","username":"zachowj","email":"37859597+zachowj@users.noreply.github.com","commits":18,"url":"https://github.com/zachowj"}],"changelog":[{"hash":"424189ea4b4ba186d4e94440cb2ce296399af9d3","time":1735610028000,"email":"37859597+zachowj@users.noreply.github.com","author":"jason","message":"docs: update links in action and get-entities documentation for consistency"},{"hash":"826e949ece8834c83c082f1f42efd301196377de","time":1727530280000,"email":"37859597+zachowj@users.noreply.github.com","author":"jason","message":"docs(node): update links in action.md"},{"hash":"40502750ea4523434453a8728f7d31c30eb5f81d","time":1725861627000,"email":"37859597+zachowj@users.noreply.github.com","author":"jason","message":"docs(action): Add block input overrides"},{"hash":"b05dd9f5c7798137676a2a4c339140f74f497869","time":1723606857000,"email":"37859597+zachowj@users.noreply.github.com","author":"Jason","message":"doc: Update node documentation for better clarity and consistency"},{"hash":"20e08aba4fd34ff58f7d75feb9df241ac8a6cccf","time":1722740908000,"email":"37859597+zachowj@users.noreply.github.com","author":"Jason","message":"feat(action)!: Add selector for floor and label"},{"hash":"31bfbe01cf584d47b490511c6ea21910c26f678a","time":1702083253000,"email":"37859597+zachowj@users.noreply.github.com","author":"Jason","message":"feat(call-service)!: Handle response data from service calls (#1166)"},{"hash":"7f65fecc59e3e406fed96c94a011b15f81117470","time":1662358213000,"email":"37859597+zachowj@users.noreply.github.com","author":"Jason","message":"docs: Remove sidebar length"},{"hash":"1d4f486c03152e09b48b3822a4111c28d37b19c3","time":1648412457000,"email":"37859597+zachowj@users.noreply.github.com","author":"Jason","message":"Fix(call-service): Allow any input for the entity id field"},{"hash":"cf890fa5ce0bdf2615f50c80601a25039794ede0","time":1647350454000,"email":"37859597+zachowj@users.noreply.github.com","author":"Jason","message":"docs: Migrate docs to vuepress v2"},{"hash":"e23ab9cfae9aeeb16fb33b3755cb71e177b389cf","time":1645668226000,"email":"37859597+zachowj@users.noreply.github.com","author":"Jason","message":"feat: Custom strings can be used in select2 selectors by using a # as the suffix"},{"hash":"8073a88588e263714410b7134095910cc4e9cce3","time":1645340508000,"email":"37859597+zachowj@users.noreply.github.com","author":"Jason","message":"docs(call-service): Update tips and tricks and node docs with target info"},{"hash":"8a3324562dcf8facf9185b57cde2a3f7033b5ba6","time":1643194043000,"email":"37859597+zachowj@users.noreply.github.com","author":"Jason","message":"feat(call-service)!: Add area and device selector"},{"hash":"58df3a056d87fd7b666650e9902908ce0a116742","time":1620815699000,"email":"37859597+zachowj@users.noreply.github.com","author":"Jason","message":"feat(call-service): Add message queue"},{"hash":"4394c9c0756ed835b938b6f5fe48f663c203c97b","time":1615439636000,"email":"37859597+zachowj@users.noreply.github.com","author":"Jason","message":"feature(call-service): Add custom outputs"},{"hash":"499ad96068714bbab8511266e67c6750a1c73c83","time":1610261140000,"email":"37859597+zachowj@users.noreply.github.com","author":"Jason","message":"docs(guide): Add call-service tips and tricks"},{"hash":"471c7a0d2410a75b0b143d04637b350956ed8c95","time":1609993784000,"email":"37859597+zachowj@users.noreply.github.com","author":"Jason","message":"refactor(call-service): Change default of the data field to jsonata"},{"hash":"e4882637771ba663560badd2256fced1e71c0ecb","time":1577877426000,"email":"37859597+zachowj@users.noreply.github.com","author":"Jason","message":"docs: call-serive doc updated"},{"hash":"ad0ac25ed27415514798ad3dc241e74934a4829a","time":1577699988000,"email":"37859597+zachowj@users.noreply.github.com","author":"Jason","message":"docs: Documentation (#179)"}]},"filePathRelative":"node/action.md"}');export{v as comp,x as data};
