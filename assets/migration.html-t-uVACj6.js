import{_ as n,c as a,b as t,o}from"./app-CrEJ5uQ_.js";const p={};function e(c,s){return o(),a("div",null,[...s[0]||(s[0]=[t(`<h1 id="migration" tabindex="-1"><a class="header-anchor" href="#migration"><span>Migration</span></a></h1><h2 id="current-state-node-output" tabindex="-1"><a class="header-anchor" href="#current-state-node-output"><span>Current-State Node Output</span></a></h2><p>Unchecking &#39;Override Topic&#39; and &#39;Override Payload&#39; doesn&#39;t work in node-red-contrib-home-assistant v0.3.2. It always overwrites <code>msg.topic</code> and <code>msg.payload</code>. If you have current-state nodes where you have unchecked the &#39;Override Payload&#39; with node-red-contrib-home-assistant-websocket it will stop overriding payload and put the state object into <code>msg.data</code></p><h2 id="poll-state-node-output" tabindex="-1"><a class="header-anchor" href="#poll-state-node-output"><span>Poll-State Node Output</span></a></h2><p><code>msg.payload.data</code> moved to <code>msg.data</code></p><p><code>msg.payload</code> becomes just the state of the state object <code>msg.payload.data.state</code> =&gt; <code>msg.payload</code></p><p><code>msg.payload.dateChanged</code> removed</p><p><code>msg.timeSinceChanged</code> and <code>msg.timeSinceChangedMs</code> moved into <code>msg.data</code></p><p><a href="https://github.com/AYapejian/node-red-contrib-home-assistant" target="_blank" rel="noopener noreferrer">node-red-contrib-home-assistant</a> v0.3.2</p><div class="language-json" data-highlighter="prismjs" data-ext="json" data-title="json"><pre><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;topic&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sun.sun&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;payload&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">&quot;timeSinceChanged&quot;</span><span class="token operator">:</span> <span class="token string">&quot;4 hours ago&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;timeSinceChangedMs&quot;</span><span class="token operator">:</span> <span class="token number">15342567</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;dateChanged&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2018-10-11T14:21:01.004Z&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token property">&quot;entity_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sun.sun&quot;</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token property">&quot;state&quot;</span><span class="token operator">:</span> <span class="token string">&quot;above_horizon&quot;</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token property">&quot;attributes&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> ... <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token property">&quot;last_changed&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2018-10-11T14:21:01.004183+00:00&quot;</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token property">&quot;last_updated&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2018-10-11T18:36:30.002985+00:00&quot;</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token property">&quot;context&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> ... <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;_msgid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;345fd403.6e71ec&quot;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre></div><p><a href="https://github.com/zachowj/node-red-contrib-home-assistant-websocket" target="_blank" rel="noopener noreferrer">node-red-contrib-home-assistant-websocket</a> v0.1.1</p><div class="language-json" data-highlighter="prismjs" data-ext="json" data-title="json"><pre><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;topic&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sun.sun&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;payload&quot;</span><span class="token operator">:</span> <span class="token string">&quot;above_horizon&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">&quot;entity_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sun.sun&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;state&quot;</span><span class="token operator">:</span> <span class="token string">&quot;above_horizon&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;timeSinceChanged&quot;</span><span class="token operator">:</span> <span class="token string">&quot;5 hours ago&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;timeSinceChangedMs&quot;</span><span class="token operator">:</span> <span class="token number">16236433</span></span>
<span class="line">    <span class="token property">&quot;attributes&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> ... <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;last_changed&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2018-10-11T14:21:01.004183+00:00&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;last_updated&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2018-10-11T18:51:30.002737+00:00&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;context&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> ... <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;_msgid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;5071255c.ad802c&quot;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre></div>`,12)])])}const r=n(p,[["render",e],["__file","migration.html.vue"]]),u=JSON.parse('{"path":"/guide/migration.html","title":"Migration","lang":"en-US","frontmatter":{},"headers":[{"level":2,"title":"Current-State Node Output","slug":"current-state-node-output","link":"#current-state-node-output","children":[]},{"level":2,"title":"Poll-State Node Output","slug":"poll-state-node-output","link":"#poll-state-node-output","children":[]}],"git":{"updatedTime":1577699988000,"contributors":[{"name":"Jason","email":"37859597+zachowj@users.noreply.github.com","commits":1}]},"filePathRelative":"guide/migration.md"}');export{r as comp,u as data};
