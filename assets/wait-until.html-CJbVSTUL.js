import{_ as l,c,a as e,b as o,e as t,d as s,w as r,r as i,o as u}from"./app-DL7QLekj.js";const d={},h={id:"entities",tabindex:"-1"},g={class:"header-anchor",href:"#entities"},m={id:"wait-until-1",tabindex:"-1"},f={class:"header-anchor",href:"#wait-until-1"};function b(k,a){const n=i("Badge"),p=i("RouteLink");return u(),c("div",null,[a[6]||(a[6]=e("h1",{id:"wait-until",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#wait-until"},[e("span",null,"Wait Until")])],-1)),a[7]||(a[7]=e("p",null,"The Wait Until node waits for a specific condition to be met or for a timeout to occur before passing on the last received message. This node is useful for pausing the flow of automation until certain criteria are met, such as waiting for a door to close before turning off the lights.",-1)),a[8]||(a[8]=e("h2",{id:"configuration",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#configuration"},[e("span",null,"Configuration")])],-1)),e("h3",h,[e("a",g,[e("span",null,[a[0]||(a[0]=t("Entities ",-1)),s(n,{text:"required"})])])]),e("ul",null,[a[4]||(a[4]=e("li",null,[t("Type: "),e("code",null,"string")],-1)),e("li",null,[a[2]||(a[2]=t("Accepts ",-1)),s(p,{to:"/guide/mustache-templates.html"},{default:r(()=>[...a[1]||(a[1]=[t("Mustache Templates",-1)])]),_:1}),a[3]||(a[3]=t(" only for entity type",-1))])]),a[9]||(a[9]=o('<p>A list of entities to wait for the condition to be met. The node will wait for any of the entities to meet the condition. If the entity is not found it will be ignored.</p><p>The types that can be used are: entity id, substring, and regex.</p><h4 id="examples" tabindex="-1"><a class="header-anchor" href="#examples"><span>Examples</span></a></h4><ul><li><code>light.living_room</code> - Will wait for the entity with the id <code>light.living_room</code></li><li><code>motion</code> - Will wait for any entity that has <code>motion</code> in the entity id</li><li><code>^light\\..*</code> - Will wait for any entity that starts with <code>light.</code></li></ul>',4)),e("h3",m,[e("a",f,[e("span",null,[a[5]||(a[5]=t("Wait Until ",-1)),s(n,{text:"required"})])])]),a[10]||(a[10]=o(`<ul><li>Type: <code>string</code></li></ul><p>The <code>property</code> field will be checked against the <code>value</code> field using the comparator.</p><h3 id="timeout" tabindex="-1"><a class="header-anchor" href="#timeout"><span>Timeout</span></a></h3><ul><li>Type: <code>number</code></li></ul><p>The amount of time to wait for the condition to become true before deactivating the node and passing the message object to the second output. If the timeout is equal to zero the node will wait indefinitely for the condition to be met.</p><div class="hint-container warning"><p class="hint-container-title">Warning</p><p>If using a Node-RED global or flow context variable in the timeout field it will not update the timeout value if the context value changes after the node has been deployed.</p></div><h3 id="check-against-the-current-state" tabindex="-1"><a class="header-anchor" href="#check-against-the-current-state"><span>Check against the current state</span></a></h3><ul><li>Type: <code>boolean</code></li></ul><p>When an input is received it will check the comparator against the current state instead of waiting for a state change.</p><div class="hint-container tip"><p class="hint-container-title">INFO</p><p>This is only available when there is only one entity selected</p></div><h2 id="input" tabindex="-1"><a class="header-anchor" href="#input"><span>Input</span></a></h2><h3 id="reset" tabindex="-1"><a class="header-anchor" href="#reset"><span>reset</span></a></h3><p>If the received message has this property set to any value the node will be set to inactive and the timeout cleared.</p><h3 id="payload" tabindex="-1"><a class="header-anchor" href="#payload"><span>payload</span></a></h3><ul><li>Type: <code>object</code></li></ul><h3 id="example" tabindex="-1"><a class="header-anchor" href="#example"><span>Example</span></a></h3><h3 id="full-payload" tabindex="-1"><a class="header-anchor" href="#full-payload"><span>Full Payload</span></a></h3><div class="language-json" data-highlighter="prismjs" data-ext="json"><pre><code class="language-json"><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;entities&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">&quot;entity&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;light.living_room&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;light.bedroom&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;substring&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;light.&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;regex&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;light.*&quot;</span><span class="token punctuation">]</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;property&quot;</span><span class="token operator">:</span> <span class="token string">&quot;state&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;comparator&quot;</span><span class="token operator">:</span> <span class="token string">&quot;is&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;on&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;valueType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;str&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;timeout&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;timeoutUnits&quot;</span><span class="token operator">:</span> <span class="token string">&quot;seconds&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;checkCurrentState&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre></div><h4 id="override-with-a-single-entity" tabindex="-1"><a class="header-anchor" href="#override-with-a-single-entity"><span>Override with a Single Entity</span></a></h4><div class="language-json" data-highlighter="prismjs" data-ext="json"><pre><code class="language-json"><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;entities&quot;</span><span class="token operator">:</span> <span class="token string">&quot;light.living_room&quot;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre></div><h4 id="override-with-a-several-entities" tabindex="-1"><a class="header-anchor" href="#override-with-a-several-entities"><span>Override with a Several Entities</span></a></h4><div class="language-json" data-highlighter="prismjs" data-ext="json"><pre><code class="language-json"><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;entities&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;light.living_room&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;light.bedroom&quot;</span><span class="token punctuation">]</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre></div><h2 id="output" tabindex="-1"><a class="header-anchor" href="#output"><span>Output</span></a></h2><p>Value types:</p><ul><li><code>entity</code>: entity data of the triggered entity. Will be <code>undefined</code> if multiple entities are selected and the timeout occurs.</li><li><code>config</code>: config properties of the node</li></ul>`,25))])}const w=l(d,[["render",b]]),q=JSON.parse('{"path":"/node/wait-until.html","title":"Wait Until","lang":"en-US","frontmatter":{},"git":{"updatedTime":1723796552000,"contributors":[{"name":"zachowj","username":"zachowj","email":"37859597+zachowj@users.noreply.github.com","commits":11,"url":"https://github.com/zachowj"}],"changelog":[{"hash":"9251c91fa223691d49a89a8413c4192edaa5d87e","time":1723796552000,"email":"37859597+zachowj@users.noreply.github.com","author":"Jason","message":"refactor(wait-until): Accept entity id in payload.entities"},{"hash":"b05dd9f5c7798137676a2a4c339140f74f497869","time":1723606857000,"email":"37859597+zachowj@users.noreply.github.com","author":"Jason","message":"doc: Update node documentation for better clarity and consistency"},{"hash":"d24b6043a254b5fea208130aa10e787cb15563f9","time":1723350678000,"email":"37859597+zachowj@users.noreply.github.com","author":"Jason","message":"feat(wait-until)!: Update wait-until listener to allow listening to multiple types"},{"hash":"7f65fecc59e3e406fed96c94a011b15f81117470","time":1662358213000,"email":"37859597+zachowj@users.noreply.github.com","author":"Jason","message":"docs: Remove sidebar length"},{"hash":"cf890fa5ce0bdf2615f50c80601a25039794ede0","time":1647350454000,"email":"37859597+zachowj@users.noreply.github.com","author":"Jason","message":"docs: Migrate docs to vuepress v2"},{"hash":"e23ab9cfae9aeeb16fb33b3755cb71e177b389cf","time":1645668226000,"email":"37859597+zachowj@users.noreply.github.com","author":"Jason","message":"feat: Custom strings can be used in select2 selectors by using a # as the suffix"},{"hash":"27880afa0253f51e499f3e671621b12fbb495dac","time":1644096509000,"email":"37859597+zachowj@users.noreply.github.com","author":"Jason","message":"feat: Add entity selector"},{"hash":"5ffef624043a2a4899ffb638845d9d8c070e636a","time":1591730108000,"email":"37859597+zachowj@users.noreply.github.com","author":"Jason","message":"docs: Add clarification for wait-until node"},{"hash":"9738bb530d74df84f3cf69fd1f8e6e1df6094e4c","time":1582612264000,"email":"37859597+zachowj@users.noreply.github.com","author":"Jason","message":"feat(wait-until): Entity Id can be a exact match, substring or Regex match"},{"hash":"6d9e183657a0cf3856a608fab9c6db2e2e3f7404","time":1578972504000,"email":"37859597+zachowj@users.noreply.github.com","author":"Jason","message":"feat(wait-until): Add ability to use mustache templates for entity id field"},{"hash":"ad0ac25ed27415514798ad3dc241e74934a4829a","time":1577699988000,"email":"37859597+zachowj@users.noreply.github.com","author":"Jason","message":"docs: Documentation (#179)"}]},"filePathRelative":"node/wait-until.md"}');export{w as comp,q as data};
