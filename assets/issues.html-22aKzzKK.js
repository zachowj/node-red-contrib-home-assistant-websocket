import{_ as i,c as l,b as n,a as t,e as o,d as a,w as r,r as d,o as u}from"./app-DL7QLekj.js";const p={};function g(c,e){const s=d("RouteLink");return u(),l("div",null,[e[31]||(e[31]=n('<h1 id="issues-guide" tabindex="-1"><a class="header-anchor" href="#issues-guide"><span>Issues Guide</span></a></h1><p>This guide explains specific issues that may appear in the <strong>Issues</strong> tab for various nodes.</p><hr><h2 id="state-type-deprecation" tabindex="-1"><a class="header-anchor" href="#state-type-deprecation"><span>State Type Deprecation</span></a></h2><p>The <strong>State Type</strong> option has been <strong>deprecated</strong> and will be <strong>removed</strong> in the version 1.0 release. This guide explains what that means, why it matters, and how to update your flows.</p><h3 id="tl-dr-—-simple-fix" tabindex="-1"><a class="header-anchor" href="#tl-dr-—-simple-fix"><span>TL;DR — Simple Fix</span></a></h3><div class="hint-container tip"><p class="hint-container-title">Note</p><p>If you’re seeing a <strong>State Type deprecated</strong> warning and your node doesn’t use an <strong>If State</strong> condition or any <strong>Output Properties</strong>, you only need to update one setting:</p><ol><li>Edit the node.</li><li>Set <strong>State Type</strong> to <strong><code>string</code></strong> (from <code>number</code> or <code>boolean</code>).</li><li>Save the node and <strong>Redeploy</strong> your flow. That’s it — the warning will disappear, and your flow will continue to work as before.</li></ol></div><h3 id="background-what-changed" tabindex="-1"><a class="header-anchor" href="#background-what-changed"><span>Background: What Changed</span></a></h3><p>Previously, the <strong>State Type</strong> setting automatically converted entity states before they were evaluated or output:</p>',9)),t("table",null,[e[16]||(e[16]=t("thead",null,[t("tr",null,[t("th",null,"State Type"),t("th",null,"Behavior")])],-1)),t("tbody",null,[e[14]||(e[14]=t("tr",null,[t("td",null,[t("code",null,"string")]),t("td",null,[o("No conversion; the state is treated as a string (e.g., "),t("code",null,'"42"'),o(", "),t("code",null,'"on"'),o(", "),t("code",null,'"locked"'),o(", "),t("code",null,'"true"'),o(")")])],-1)),e[15]||(e[15]=t("tr",null,[t("td",null,[t("code",null,"number")]),t("td",null,[o("Converts "),t("code",null,'"42"'),o(" → "),t("code",null,"42")])],-1)),t("tr",null,[e[13]||(e[13]=t("td",null,[t("code",null,"boolean")],-1)),t("td",null,[e[1]||(e[1]=o("Converts to ",-1)),e[2]||(e[2]=t("code",null,"true",-1)),e[3]||(e[3]=o(" or ",-1)),e[4]||(e[4]=t("code",null,"false",-1)),e[5]||(e[5]=o(" based on ",-1)),a(s,{to:"/node/config-server.html#state-boolean"},{default:r(()=>[...e[0]||(e[0]=[o("Home Assistant State Boolean values",-1)])]),_:1}),e[6]||(e[6]=o(" (e.g., ",-1)),e[7]||(e[7]=t("code",null,'"on"',-1)),e[8]||(e[8]=o(", ",-1)),e[9]||(e[9]=t("code",null,'"open"',-1)),e[10]||(e[10]=o(", ",-1)),e[11]||(e[11]=t("code",null,'"locked"',-1)),e[12]||(e[12]=o(")",-1))])])])]),e[32]||(e[32]=n('<p>These conversions happened <strong>automatically</strong>, even before <strong>If State</strong> conditions or <strong>Output Properties</strong> were applied.</p><p>Now, entity states are always treated as <strong>strings</strong> unless you explicitly convert them. This makes behavior more predictable and consistent.</p><hr><h3 id="updating-if-state-conditions" tabindex="-1"><a class="header-anchor" href="#updating-if-state-conditions"><span>Updating “If State” Conditions</span></a></h3><p>If your node uses <strong>If State</strong> conditions that depended on the old <code>State Type</code> behavior, update them as follows:</p><ol><li><p>Edit the node.</p></li><li><p>For each <strong>If State</strong> condition:</p><ul><li>Set <strong>Value Type</strong> to <code>number</code> if you want to compare the state as a number.</li><li>Set <strong>Value Type</strong> to <code>Home Assistant State Boolean</code> if you want to check whether the state matches one of your configured boolean values. <ul><li><code>Home Assistant State Boolean</code> comparisons are only available with the <code>in</code> and <code>not in</code> operators.</li></ul></li></ul></li><li><p>Save the node and <strong>Redeploy</strong> your flow.</p></li></ol><p>This ensures your logic continues to work as expected with explicit, type-safe comparisons.</p><hr><h3 id="updating-output-properties" tabindex="-1"><a class="header-anchor" href="#updating-output-properties"><span>Updating “Output Properties”</span></a></h3><p>You now have full control over how the entity state is cast within <strong>Output Properties</strong>.</p><p>The entity state can be explicitly set to one of the following types:</p>',11)),t("ul",null,[e[30]||(e[30]=n("<li><p><strong>string</strong> (default): No conversion is applied; the state remains as text.</p></li><li><p><strong>number</strong>: Converts the state to a numeric value.</p></li><li><p><strong>boolean</strong>: Converts the state to <code>true</code> or <code>false</code> using standard logic:</p><ul><li>If the value is already a boolean, it’s used as-is.</li><li>Numbers: non-zero values become <code>true</code>, and <code>0</code> becomes <code>false</code>.</li><li>Strings: <code>&quot;true&quot;</code> → <code>true</code>, <code>&quot;false&quot;</code> → <code>false</code>, numeric strings like <code>&quot;1&quot;</code> or <code>&quot;42&quot;</code> → <code>true</code>, and <code>&quot;0&quot;</code> → <code>false</code>.</li><li>Any other or unrecognized value results in <code>false</code>.</li></ul></li>",3)),t("li",null,[t("p",null,[t("strong",null,[e[18]||(e[18]=o("Home Assistant ",-1)),a(s,{to:"/node/config-server.html#state-boolean"},{default:r(()=>[...e[17]||(e[17]=[o("State Boolean",-1)])]),_:1})]),e[19]||(e[19]=o(": Converts the state to ",-1)),e[20]||(e[20]=t("code",null,"true",-1)),e[21]||(e[21]=o(" if it matches one of the configured true values (e.g., ",-1)),e[22]||(e[22]=t("code",null,'"on"',-1)),e[23]||(e[23]=o(", ",-1)),e[24]||(e[24]=t("code",null,'"open"',-1)),e[25]||(e[25]=o(", ",-1)),e[26]||(e[26]=t("code",null,'"locked"',-1)),e[27]||(e[27]=o("), otherwise ",-1)),e[28]||(e[28]=t("code",null,"false",-1)),e[29]||(e[29]=o(".",-1))])])]),e[33]||(e[33]=n('<hr><h3 id="event-nodes" tabindex="-1"><a class="header-anchor" href="#event-nodes"><span>Event Nodes</span></a></h3><p>For <strong>event nodes</strong>, data in <code>msg.data</code> — including <code>old_state.state</code> and <code>new_state.state</code> — will <strong>no longer</strong> be converted automatically based on the <strong>State Type</strong> setting. All state values are now delivered as <strong>strings</strong>, unless you explicitly convert them elsewhere in your flow.</p><hr><h3 id="summary" tabindex="-1"><a class="header-anchor" href="#summary"><span>Summary</span></a></h3><table><thead><tr><th>Before</th><th>After</th></tr></thead><tbody><tr><td>Automatic state conversion based on <strong>State Type</strong></td><td>Explicit conversion using <strong>Value Type</strong> or <strong>Output Properties</strong></td></tr><tr><td>States may be <code>number</code> or <code>boolean</code> automatically</td><td>States are always <strong>strings</strong> by default</td></tr><tr><td>Hidden conversions inside nodes</td><td>Transparent, user-controlled type casting</td></tr></tbody></table><hr><div class="hint-container tip"><p class="hint-container-title">Recommendation</p><p>For best results:</p><ul><li>Always treat entity states as <strong>strings</strong> unless your flow explicitly requires numeric or boolean logic.</li><li>Review any custom nodes or function nodes that expect numeric/boolean states.</li><li>Use the <strong>Value Type</strong> and <strong>Output Properties</strong> options for clarity and maintainability.</li></ul></div>',8))])}const m=i(p,[["render",g]]),f=JSON.parse('{"path":"/guide/issues.html","title":"Issues Guide","lang":"en-US","frontmatter":{},"git":{"updatedTime":1762855171000,"contributors":[{"name":"zachowj","username":"zachowj","email":"37859597+zachowj@users.noreply.github.com","commits":5,"url":"https://github.com/zachowj"}],"changelog":[{"hash":"8b554ee354db60a2e25074657c6d718fa4fdc76f","time":1762855171000,"email":"37859597+zachowj@users.noreply.github.com","author":"jason","message":"feat: add Home Assistant Boolean type to state condition checks"},{"hash":"13cdeb8980dc901303f68160d5640b52b124e0c0","time":1762742149000,"email":"37859597+zachowj@users.noreply.github.com","author":"jason","message":"docs: fix formatting of entity header in output properties guide"},{"hash":"d130cab8a86ce67631d99566d989d7752f24847d","time":1762741927000,"email":"37859597+zachowj@users.noreply.github.com","author":"jason","message":"docs: add markdown include plugin and update documentation snippets for Home Assistant nodes"},{"hash":"2cab1d7072db31f15153921ff81fccf3f762814e","time":1762674893000,"email":"37859597+zachowj@users.noreply.github.com","author":"jason","message":"docs: add Issues Guide to explain state type deprecation and handling"},{"hash":"16f1177bc76471c4d436b6c917d6a6c8fdb1f59f","time":1761531368000,"email":"37859597+zachowj@users.noreply.github.com","author":"jason","message":"feat!: introduce entity state casting and deprecate state type configuration"}]},"filePathRelative":"guide/issues.md"}');export{m as comp,f as data};
